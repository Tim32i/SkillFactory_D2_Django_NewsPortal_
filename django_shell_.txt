(venv) PS D:\pythonProject_D2_NewsPortal\NewsPortal_D2_Tim32i> python manage.py shell  
Python 3.8.9 (tags/v3.8.9:a743f81, Apr  6 2021, 14:02:34) [MSC v.1928 64 bit (AMD64)] on win32
Type "help", "copyright", "credits" or "license" for more information.
(InteractiveConsole)
>>> from NewsPortal.models import * 
>>> user_1 = User.objects.create_user('Иванов Иван Иванович')
>>> user_2 = User.objects.create_user('Петров Петр Петрович') 
>>> author_1 = Author.objects.create(author_user=user_1)
>>> author_2 = Author.objects.create(author_user=user_2) 
>>> user_1.username
'Иванов Иван Иванович'
>>> user_2.username 
'Петров Петр Петрович'
>>> category_1 = Category.objects.create(category_name = 'PO')
>>> category_1.get_category_name_display()
'Политика'
>>> category_2 = Category.objects.create(category_name = 'EC')
>>> category_2.get_category_name_display()
'Экономика'
>>> category_3 = Category.objects.create(category_name = 'SP')
>>> category_3.get_category_name_display()
'Спорт'
>>> category_4 = Category.objects.create(category_name = 'SC')
>>> category_4.get_category_name_display()
'Наука'
>>> post_1_title = "Россия ответила Западу на заморозку активов"  
>>> post_1_content = "Российский суд принял решение заморозить все активы американского банка JPMorgan Chase, собирающегося уйти из РФ.\
... После начала спецоперации ЕС и страны G7 заморозили почти половину российских валютных резервов на сумму примерно\
... 300 миллиардов евро. В конце апреля апреля арбитражный суд Санкт-Петербурга и Ленинградской области принял\
... обеспечительные меры по иску ВТБ к структурам крупнейшего инвестиционного банка мира JPMorgan Chase\
... на 439,5 миллионов долларов."
>>> post_1 = Post.objects.create(type_post='N', post_title=post_1_title, post_content=post_1_content, author=author_1)
>>> post_1.get_type_post_display()
'Новости'
>>> post_1.post_category.add(category_1, category_2)
>>> for elem in post_1.post_category.all():
...     print(elem.get_category_name_display())
... 
Политика
Экономика
>>> post_2_title = "Каким «видит» мир объект, летящий со скоростью света?"
>>> post_2_content = "Как известно скорость света – это хоть и большая, но все же конечная величина.\
... Существуют вполне материальные объекты (например, фотоны – частицы из которых и состоит свет),\
... которые двигаются со скоростью света. Как же «выглядит» мир «глазами» таких быстрых объектов?\
... В обсуждении этого вопроса самое важное место занимает Специальная Теория Относительности (СТО).\
... Согласно выводам этой теории (которые на данный момент хорошо подтверждены экспериментальными фактами),\
... при движении некоторого объекта со скоростью света сколь угодно длительный промежуток времени для этого объекта\
... становится равным нолю.\n\
... Важно отметить, что любой промежуток времени, даже миллиарды лет, для объекта разогнавшегося до скорости света\
... обратиться именно точно в ноль, а не в бесконечно малый промежуток времени. А что это значит,\
... если промежуток времени обратился в нулевой?\n\
... Это означает, что невозможно никакое действие, в том числе и наблюдение, видение, зрение и так далее.\
... Таким образом, объект летящий со скоростью света ничего не увидит. И вообще этот объект фактически даже не осознает\
... факт своего существования, и существования мира вокруг него, ведь на это тоже нужно время.\
... Хотя относительно Земли, например, данный объект будет вполне себе существовать, и возможно в течении\
... очень даже приличного промежутка времени путешествовать со скоростью света.\
... Фотоны – это такие объекты, которые от момента своего испускания и до самого поглощения летят\
... только со скоростью света, т.е. они не тратят время на разгон и торможение, поэтому вся их жизнь для них\
... длится ноль времени. Таким образом, мир глазами фотона таков: совпадающие моменты рождения и смерти фотона,\
... не дают ему возможности «понять» что мир вообще существует.\n\
... Заметим одну тонкость: придирчивый читатель мог отметить, что до сих пор мы обходили вопрос того,\
... относительно чего должен двигаться объект со скоростью света, чтобы всё это стало правдой.\
... Но этот вопрос действительно не имеет значения, так как согласно основным постулатам СТО,\
... если уж объект разогнался до скорости света относительно хотя бы одной системы отсчета или тела,\
... то его скорость во всех системах отсчета становится равной скорости света."
>>> post_2 = Post.objects.create(type_post='A', post_title=post_2_title, post_content=post_2_content, author=author_2)
>>> post_2.get_type_post_display()
'Статья'
>>> category_4.get_category_name_display()
'Наука'
>>> post_2.post_category.add(category_4)
>>> post_3_title = "Роль спорта в жизни человека"
>>> post_3_content = "Какую роль играет спорт в жизни человека? Во всём мире люди её видят по-разному. Одни очень \
... прохладно относятся к спорту и некоторые даже считают его бесполезной тратой времени. \
... Другие люди видят смысл спорта и их, к счастью, больше чем первых. Причём каждый из них \
... может иметь разное отношение к спорту: кто-то предпочитает смотреть его по телевизору, кто-\
... то предпочитает просто заниматься каким-либо видом спорта или общефизической\
... подготовкой, ну а для кого-то спорт – это средство существования. Среди последних могут \
... быть действующие спортсмены, тренеры, врачи, директоры различных спортивных обществ, \
... попечители спорта и др\n\
... И каждый из них вносит свой вклад в развитие спорта на нашей планете. Спорт обладает\
... удивительными свойствами. Он может объединять людей, знакомить их между собой, в\
... большинстве случаев спорт укрепляет здоровье, характер и даже умственные способности\
... людей, которые им занимаются, развивает в них такие навыки как скорость, ловкость, реакция, \
... координация, выносливость, терпение и сила. Спорт делает людей более устойчивыми к \
... негативным факторам внешней среды. Он часто приносит людям массу положительных \
... эмоций, например, при победе любимой команды или при достижении человеком какого-то\
... результата в нём.\n\
... Хотелось бы отметить, что наиболее полезным для человека, да и для общества является именно \
... занятие спортом на любом уровне. Во многом это обусловлено тем, что человечество, не\
... смотря на научные прогрессы, деградирует сам по себе, конечно, при этом в определённых\
... качествах он растёт. Человек старается упростить себе жизнь. Физический труд для человека\
... перестаёт иметь значение в связи с развитием техники. Человек постепенно теряет те\
... качества, в основном физические, которыми его наградил Бог. Человек по сравнению со\
... своими далёкими предками становится более дряхлым и здесь ещё ко всему прочему на него\
... очень плохо могут влиять такие соблазны, как спиртное, табак и наркотики. Крайне не\
... желательно поддаваться этим соблазнам, а особенно наркотикам. И в этом замечательную\
... роль для человека может сыграть занятие спортом, т.к. он прямо противоположен этим злым\
... факторам и спокойно может служить той альтернативой, которая не даст человеку стать\
... алкоголиком, курильщиком и наркоманом"
>>> post_3 = Post.objects.create(type_post='A', post_title=post_3_title, post_content=post_3_content, author=author_1)
>>> category_3.get_category_name_display()
'Спорт'
>>> post_3.post_category.add(category_3)
>>> comment_1_post_1 = Comment.objects.create(post=post_1, user=user_1, content="Это первый комментарий к посту 1")
>>> comment_1_post_2 = Comment.objects.create(post=post_2, user=user_1, content="Это первый комментарий к посту 2") 
>>> comment_1_post_3 = Comment.objects.create(post=post_3, user=user_2, content="Это первый комментарий к посту 3") 
>>> comment_2_post_1 = Comment.objects.create(post=post_1, user=user_1, content="Второй комментарий к посту 1")           
>>> comment_2_post_2 = Comment.objects.create(post=post_2, user=user_2, content="Второй комментарий к посту 2") 
>>> comment_2_post_3 = Comment.objects.create(post=post_3, user=user_2, content="Второй комментарий к посту 3") 
>>> comment_1_post_1.dislike()
>>> comment_1_post_2.like()    
>>> comment_1_post_3.like() 
>>> comment_1_post_3.like()
>>> comment_2_post_1.like() 
>>> comment_2_post_1.like()
>>> comment_2_post_2.dislike()
>>> comment_2_post_2.dislike()
>>> comment_2_post_3.like()    
>>> comment_2_post_3.like()
>>> comment_2_post_3.like()
>>> post_1.like()
>>> post_2.like() 
>>> post_2.like()
>>> post_3.like() 
>>> post_3.like()
>>> post_3.like()
>>> author_1.upgrade_rating()
>>> author_2.upgrade_rating()
>>> author_1.author_rating
20
>>> author_2.author_rating
8
>>> Author.objects.all().order_by('-author_rating').values('author_user__username', 'author_rating')[0]  
{'author_user__username': 'Иванов Иван Иванович', 'author_rating': 20}
>>> best_post = Post.objects.all().order_by('-post_rating')[0]                                                               
>>> best_post
<Post: Post object (3)>
>>> Post.objects.all().order_by('-post_rating').values('time_create', 'author__author_user__username', 'post_rating', 'post_title')[0]
{'time_create': datetime.datetime(2024, 5, 1, 20, 18, 48, 33386, tzinfo=datetime.timezone.utc), 'author__author_user__username': 'Иванов Иван Иванович',
 'post_rating': 3, 'post_title': 'Роль спорта в жизни человека'}
>>> best_post.preview()
'Какую роль играет спорт в жизни человека? Во всём мире люди её видят по-разному. Одни очень прохладно относятся к спорту и н...'
>>>
>>> for comment_elem in Comment.objects.filter(post=best_post):
...     print(comment_elem.time_comment, comment_elem.user.username, comment_elem.rating_comment, comment_elem.content)
... 
2024-05-01 20:25:44.389218+00:00 Петров Петр Петрович 2 Это первый комментарий к посту 3
2024-05-01 20:27:49.304716+00:00 Петров Петр Петрович 3 Второй комментарий к посту 3
>>>
